<div class="text-center">
  <h1>注文情報履歴</h1>

  <table class="table table-bordered">
    <thead>
      <tr class="table-active">
        <th scope="col">注文日</th>
        <th scope="col">配送先</th>
        <th scope="col">注文商品</th>
        <th scope="col">注文金額</th>
        <th scope="col">ステータス</th>
        <th scope="col">注文詳細</th>
      </tr>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
        <tr>
          <td scope="col"><%= order.created_at.strftime('%Y/%m/%d %H:%M') %></td>
          <td scope="col"><%= order.address %></td>
          <td scope="col">
            <% order.order_details.each do |order_detail| %>
              <%= order_detail.item.name %><br>
            <% end %>
          </td>
          <td scope="col"><%= order.total_payment.to_s(:delimited, delimiter: ',') %>円</td>
          <td scope="col">
            <% if order.payment_waiting? %>
              <span>入金待ち</span>
            <% elsif order.confirm? %>
              <span>入金確認</span>
            <% elsif order.running? %>
              <span>製作中</span>
            <% elsif order.shipment_waiting? %>
              <span>発送準備中</span>
            <% elsif order.executed? %>
              <span>発送済み</span>
            <% end %>
          </td>
          <td scope="col"><%= link_to "表示する", order_path(order), class: "btn btn-primary" %></td>
      <% end %>
    </tbody>
  </table>
</div>
